<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="'UTF'-8">
    <title>OCRop</title>
    <link rel="icon" href="images/icon.png">

    <meta property="og:title" content="OCRop"/>
    <meta property="og:type" content="website"/>
    <meta property="og:description"
          content="Optical Character Recognition/Text Extraction: Built For Building Alt Text"/>
    <meta property="og:image" content="images/preview.png">
    <meta property="og:image:alt" content="A selection box in red">

    <link rel="stylesheet" href="style.css">

    <script src='https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js'></script>
    <script src="lib/fabric.min.js"></script>
    <script type="module">

        const worker = await Tesseract.createWorker();
        //TODO: Dropdown to select language
        await worker.loadLanguage('eng');
        await worker.initialize('eng');

        window.tesseractWorker = worker
    </script>
</head>
<body>
<div id="controls">
    <div id="left-ctl">
        <div class="dropdown">
            <button id="page-lang-btn" onclick="openDropdown('page-lang-dropdown')" class="drop-btn"></button>
            <div id="page-lang-dropdown" class="dropdown-content" onselect="changePageLanguage()">
                <input type="text" placeholder="" id="page-lang-text" aria-label="Page Language"
                       onkeyup="filterPageLangs()">
                <div id="page-lang-options"></div>
            </div>
            <a id="add-translation-link" class="dropdown-option"
               href="https://github.com/alt-text-org/ocrop/issues/new?&template=translation.md&title=%5BTranslation%5D+Language"></a>
        </div>
    </div>
</div>
<div id="right-ctl">
    <button id="extract-bt" onclick="extract()" disabled>Extract Text</button>
    <button id="copy-bt" onclick="copy()" disabled>Copy</button>
</div>
</div>
<div id="main">
    <div id="cvs-wrapper">
        <div id="upload-wrapper">
            <div class="upload-area">
                <input type="file" id="upload"/>
            </div>
            <label id="upload-label">
                Upload File or Paste Image
            </label>
        </div>
        <canvas id="cvs" width="1" height="1"></canvas>
        <p id="explanation">
            Try clicking extract, then manipulate the dashed red box, click extract again and see what changes ðŸ’œ
        </p>
    </div>
    <div id="right-col">
        <div id="result-wrapper">
            <textarea id="result" cols="33" rows="33" aria-label="result"></textarea>
        </div>
        <div id="links">
            <a href="https://social.alt-text.org/@hannah"><img class="link-logo" src="images/masto.svg" alt="Mastodon"></a>
            <a href="https://github.com/alt-text-org/ocrop"><img class="link-logo" src="images/github.svg" alt="GitHub"></a>
        </div>
    </div>
</div>
</body>
</html>